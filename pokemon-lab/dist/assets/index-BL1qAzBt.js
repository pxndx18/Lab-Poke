(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();var E=function(e,o,t,n){function r(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(c){try{d(n.next(c))}catch(u){s(u)}}function p(c){try{d(n.throw(c))}catch(u){s(u)}}function d(c){c.done?i(c.value):r(c.value).then(a,p)}d((n=n.apply(e,o||[])).next())})};const B="https://pokeapi.co/api/v2/";function I(e,o){return E(this,void 0,void 0,function*(){const t=`${B}${e}/${o}`,n=yield fetch(t);if(!n.ok)throw new Error(`No se pudo obtener ${e} con identificador "${o}"`);return yield n.json()})}function $(e){return I("pokemon",e)}function L(e){const o=document.getElementById("result");o.innerHTML=`
    <h2>${e.name.toUpperCase()}</h2>
    <p>ID: ${e.id}</p>
    <p><strong>Peso:</strong> ${e.weight/10} kg</p>
    <p><strong>Tipos:</strong> ${e.types.map(t=>t.type.name).join(", ")}</p>
    <p><strong>Habilidades:</strong> ${e.abilities.map(t=>t.ability.name).join(", ")}</p>
    <div>
      ${Object.entries(e.sprites).filter(([t,n])=>typeof n=="string"&&n!==null&&t.includes("front")).map(([t,n])=>`<img src="${n}" alt="${e.name}" title="${t}" />`).join("")}
    </div>
  `}function h(e){const o=document.getElementById("history");o.innerHTML="",e.forEach(t=>{const n=document.createElement("li");n.textContent=t,n.addEventListener("click",()=>{const r=document.getElementById("searchInput");r.value=t,document.getElementById("searchBtn").click()}),o.appendChild(n)})}var w=function(e,o,t,n){function r(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(c){try{d(n.next(c))}catch(u){s(u)}}function p(c){try{d(n.throw(c))}catch(u){s(u)}}function d(c){c.done?i(c.value):r(c.value).then(a,p)}d((n=n.apply(e,o||[])).next())})};const g=document.getElementById("searchInput"),v=document.getElementById("searchBtn"),b=document.getElementById("prevBtn"),O=document.getElementById("nextBtn"),y=document.getElementById("result");let f=null,l=JSON.parse(localStorage.getItem("history")||"[]");h(l);function m(e){return w(this,void 0,void 0,function*(){if(e){y.innerHTML="ðŸ”„ Buscando...";try{const o=yield $(e);f=o.id,L(o),_(o.name)}catch(o){y.innerHTML=`<p style="color:red;">${o.message}</p>`}}})}function _(e){l.includes(e)||(l.unshift(e),l.length>10&&l.pop(),localStorage.setItem("history",JSON.stringify(l)),h(l))}v.addEventListener("click",()=>m(g.value.trim()));b.addEventListener("click",()=>{f&&f>1&&m(f-1)});O.addEventListener("click",()=>{f&&m(f+1)});g.addEventListener("keypress",e=>{e.key==="Enter"&&v.click()});
